<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Tue Jan 02 23:40:52 CET 2018 -->
<title>Aa_mutecommand (adminanything-refactor 1.7.0 API)</title>
<meta name="date" content="2018-01-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Aa_mutecommand (adminanything-refactor 1.7.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/martinambrus/adminAnything/commands/Aa_listcommands_runnable.html" title="class in com.martinambrus.adminAnything.commands"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/martinambrus/adminAnything/commands/Aa_playercommands.html" title="class in com.martinambrus.adminAnything.commands"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/martinambrus/adminAnything/commands/Aa_mutecommand.html" target="_top">Frames</a></li>
<li><a href="Aa_mutecommand.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.martinambrus.adminAnything.commands</div>
<h2 title="Class Aa_mutecommand" class="title">Class Aa_mutecommand</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.martinambrus.adminAnything.commands.Aa_mutecommand</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.bukkit.command.CommandExecutor</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Aa_mutecommand</span>
extends java.lang.Object
implements org.bukkit.command.CommandExecutor</pre>
<div class="block">Command which mutes any possible output from
 the given executed command.

 The methodology here is a little complicated,
 so let's get into explanations here.

 First, all methods containing a call to the sendMessage()
 method are instrumented (i.e. changed in-memory),
 so we first check whether a muted command was run beforehand.

 If a muted command was run before just before sendMessage()
 was called, we simply cancel it. There is no way for us to know
 exactly which command has requested this because of the events system,
 so we have to mute everything until a certain time has passed.

 This timeout time is set to 1.5 seconds by default, which is by far
 enough to mute anything that should be trying to call sendMessage().

 After this timeout is reached, we reset our internal status and will
 no longer be muting any commands up until another command that should
 be muted is run - at which point this whole circus starts over :-P</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#captureNextCommandSender">captureNextCommandSender</a></strong></code>
<div class="block">Determined whether we should capture the name
 of the current class that calls sendMessage().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#lastClassMuted">lastClassMuted</a></strong></code>
<div class="block">Determines whether the last class that called sendMessage()
 was muted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#lastMuteTimestamp">lastMuteTimestamp</a></strong></code>
<div class="block">Determines how long ago has the last command
 that should be muted ran.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../com/martinambrus/adminAnything/LogFilter.html" title="class in com.martinambrus.adminAnything">LogFilter</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#logFilter">logFilter</a></strong></code>
<div class="block">This will hold a LogFilter that's used when we cannot run
 instrumentation for any reason.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#newMutedClass">newMutedClass</a></strong></code>
<div class="block">Stores a name for the class which called
 a muted command.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#readyToRetransform">readyToRetransform</a></strong></code>
<div class="block">Determines whether we're ready to start the instrumentation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#retransformationTried">retransformationTried</a></strong></code>
<div class="block">Used to check whether we need to try to download the javassist
 library, if it's not present.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#retransformed">retransformed</a></strong></code>
<div class="block">Determines whether we've re-transformed any classes yet.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#Aa_mutecommand(org.bukkit.plugin.Plugin)">Aa_mutecommand</a></strong>(org.bukkit.plugin.Plugin&nbsp;aa)</code>
<div class="block">Constructor, takes AdminAnything as a parameter,
 since we'll be needing it later to set up a delayed
 task (as not to overload server by all the action :P).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#checkIsClassMuted()">checkIsClassMuted</a></strong>()</code>
<div class="block">Checks whether the previously saved class name
 should be muted and sets the internal variables
 accordingly.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#onCommand(org.bukkit.command.CommandSender,%20org.bukkit.command.Command,%20java.lang.String,%20java.lang.String[])">onCommand</a></strong>(org.bukkit.command.CommandSender&nbsp;sender,
         org.bukkit.command.Command&nbsp;cmd,
         java.lang.String&nbsp;unused,
         java.lang.String[]&nbsp;args)</code>
<div class="block">/aa_muteCommand - mutes a command, so it won't broadcast any messaged to console or player chat</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#retransformCBMC()">retransformCBMC</a></strong>()</code>
<div class="block">Instruments CraftBukkit and Minecraft classes
 to enable us cancelling out the sendMessage()
 method calls from them as needed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#setCurrentClassMuted()">setCurrentClassMuted</a></strong>()</code>
<div class="block">Sets previously saved class as one that should be muted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#transformations()">transformations</a></strong>()</code>
<div class="block">Prepares a map of transformable classes that we need to check for
 on the server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/martinambrus/adminAnything/commands/Aa_mutecommand.html#verifyMuteCheckTimeout()">verifyMuteCheckTimeout</a></strong>()</code>
<div class="block">Checks whether we're still within a timeout to mute
 all commands that call sendMessage() and sets the internal
 variables accordingly.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="lastMuteTimestamp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastMuteTimestamp</h4>
<pre>public static&nbsp;int lastMuteTimestamp</pre>
<div class="block">Determines how long ago has the last command
 that should be muted ran.</div>
</li>
</ul>
<a name="newMutedClass">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newMutedClass</h4>
<pre>public static&nbsp;java.lang.String newMutedClass</pre>
<div class="block">Stores a name for the class which called
 a muted command.</div>
</li>
</ul>
<a name="lastClassMuted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastClassMuted</h4>
<pre>public static&nbsp;boolean lastClassMuted</pre>
<div class="block">Determines whether the last class that called sendMessage()
 was muted.</div>
</li>
</ul>
<a name="captureNextCommandSender">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>captureNextCommandSender</h4>
<pre>public static&nbsp;boolean captureNextCommandSender</pre>
<div class="block">Determined whether we should capture the name
 of the current class that calls sendMessage().</div>
</li>
</ul>
<a name="retransformed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retransformed</h4>
<pre>public static&nbsp;boolean retransformed</pre>
<div class="block">Determines whether we've re-transformed any classes yet.
 This will be set to true after the first instrumentation,
 so we don't do this unnecessarily again and again.</div>
</li>
</ul>
<a name="retransformationTried">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retransformationTried</h4>
<pre>public static&nbsp;boolean retransformationTried</pre>
<div class="block">Used to check whether we need to try to download the javassist
 library, if it's not present.</div>
</li>
</ul>
<a name="readyToRetransform">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readyToRetransform</h4>
<pre>public static&nbsp;boolean readyToRetransform</pre>
<div class="block">Determines whether we're ready to start the instrumentation.</div>
</li>
</ul>
<a name="logFilter">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logFilter</h4>
<pre>public static&nbsp;<a href="../../../../com/martinambrus/adminAnything/LogFilter.html" title="class in com.martinambrus.adminAnything">LogFilter</a> logFilter</pre>
<div class="block">This will hold a LogFilter that's used when we cannot run
 instrumentation for any reason. It will not mute much but still
 can be used to mute at least some output.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Aa_mutecommand(org.bukkit.plugin.Plugin)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Aa_mutecommand</h4>
<pre>public&nbsp;Aa_mutecommand(org.bukkit.plugin.Plugin&nbsp;aa)</pre>
<div class="block">Constructor, takes AdminAnything as a parameter,
 since we'll be needing it later to set up a delayed
 task (as not to overload server by all the action :P).

 Also starts the commandPreprocessor listener
 if it was not started yet, so our fixed, muted, disabled...
 commands can get pre-processed by AdminAnything.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aa</code> - Instance of <a href="../../../../com/martinambrus/adminAnything/AdminAnything.html" title="class in com.martinambrus.adminAnything"><code>AdminAnything</code></a>.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="transformations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformations</h4>
<pre>public static&nbsp;java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt;&nbsp;transformations()</pre>
<div class="block">Prepares a map of transformable classes that we need to check for
 on the server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns a map of all transformable classes that we need to check for.</dd></dl>
</li>
</ul>
<a name="checkIsClassMuted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIsClassMuted</h4>
<pre>public static&nbsp;void&nbsp;checkIsClassMuted()</pre>
<div class="block">Checks whether the previously saved class name
 should be muted and sets the internal variables
 accordingly.</div>
</li>
</ul>
<a name="verifyMuteCheckTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyMuteCheckTimeout</h4>
<pre>public static&nbsp;void&nbsp;verifyMuteCheckTimeout()</pre>
<div class="block">Checks whether we're still within a timeout to mute
 all commands that call sendMessage() and sets the internal
 variables accordingly.</div>
</li>
</ul>
<a name="setCurrentClassMuted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentClassMuted</h4>
<pre>public static&nbsp;void&nbsp;setCurrentClassMuted()</pre>
<div class="block">Sets previously saved class as one that should be muted.</div>
</li>
</ul>
<a name="retransformCBMC()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retransformCBMC</h4>
<pre>public static&nbsp;void&nbsp;retransformCBMC()</pre>
<div class="block">Instruments CraftBukkit and Minecraft classes
 to enable us cancelling out the sendMessage()
 method calls from them as needed.</div>
</li>
</ul>
<a name="onCommand(org.bukkit.command.CommandSender, org.bukkit.command.Command, java.lang.String, java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onCommand</h4>
<pre>public&nbsp;boolean&nbsp;onCommand(org.bukkit.command.CommandSender&nbsp;sender,
                org.bukkit.command.Command&nbsp;cmd,
                java.lang.String&nbsp;unused,
                java.lang.String[]&nbsp;args)</pre>
<div class="block">/aa_muteCommand - mutes a command, so it won't broadcast any messaged to console or player chat</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>onCommand</code>&nbsp;in interface&nbsp;<code>org.bukkit.command.CommandExecutor</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>sender</code> - The player who is calling this command.</dd><dd><code>cmd</code> - The actual command that is being executed.</dd><dd><code>unused</code> - Name of the command which is being executed.</dd><dd><code>args</code> - Any arguments passed to this command.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns true if we can instrument server classes and use this command, false otherwise.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/martinambrus/adminAnything/commands/Aa_listcommands_runnable.html" title="class in com.martinambrus.adminAnything.commands"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/martinambrus/adminAnything/commands/Aa_playercommands.html" title="class in com.martinambrus.adminAnything.commands"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/martinambrus/adminAnything/commands/Aa_mutecommand.html" target="_top">Frames</a></li>
<li><a href="Aa_mutecommand.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
